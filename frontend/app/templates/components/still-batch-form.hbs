<form class="still-batch-add-form">
  <div class="still-add-form__errors">
    <div class="still-add-form__error">
      {{#each submissionDisplayErrors as |error|}}
        <span>{{if isValidated error.detail}}</span>
      {{/each}}
    </div>
  </div>

  <div class="still-batch-add-form__add-files">
    {{#file-dropzone name="stills" as |dropzone queue|}}
      {{#if dropzone.active}}
        {{#if dropzone.valid}}
          Drop to upload
        {{else}}
          Invalid
        {{/if}}
      {{else if queue.files.length}}
        Uploading {{queue.files.length}} files. ({{queue.progress}}%)
      {{else}}
        <p>
          {{#if dropzone.supported}}
          <div class="drop-zone-area">
            Drag and drop images onto this area to upload them
          </div>
          or
          {{/if}}
          {{#file-upload name="photos"
            accept="image/*"
            multiple=true
            onfileadd=(action "uploadImage")}}
            <a id="upload-image" class="upload-image" tabindex=0>
              Click Here to Add Image(s)
            </a>
          {{/file-upload}}
        </p>
      {{/if}}
    {{/file-dropzone}}

    <div class="still-add-form__error">
      {{if isValidated errors.image}}
    </div>
  </div>

  {{#if stillData.length}}
    {{#if showPreviousButton}}
      <button {{action "selectImage" -1}}>Prev</button>
    {{/if}}
    {{#if showNextButton}}
      <button {{action "selectImage" 1}}>Next</button>
    {{/if}}
    {{still-batch-form-single
      image=currentStill.file
      startTags=currentStill.tags
      submissionError=submissionError
      onTagAdd=(action 'addTag')
      store=store}}
  {{/if}}

  <div class="still-add-form__actions">
    <button class="still-add-form-actions__create" {{action 'onCreate'}}>Submit All</button>
    <button class="still-add-form-actions__cancel" {{action 'onCancel'}}>Cancel All</button>
  </div>
</form>
